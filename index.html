<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>aliyun.blue</title>
  <link rel="icon" href="./assets/imgs/svg/Tomato.svg" type="image/vnd.microsoft.icon">
  <!-- index页面样式 -->
  <link rel="stylesheet" href="./assets/css/index.css">
  <!-- jquery -->
  <script src="./assets/js/jquery-1.2.6.min.js"></script>
  <!-- 播放器插件 -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>   -->
  <script src="./assets/js/APlayer.min.js"></script>
  <script src="./assets/js/Meting.min.js"></script>
  <script type="module">
    import localData from './assets/js/imgurl.js';
    // 入口 加载图片 snow_dom
    $(function(){
      // 首加载的背景
      // let defaultImg = './assets/imgs/img/qBrF1yu5Wys.jpg'
      let defaultImg = localData.imgArr[Math.floor((Math.random()*localData.imgArr.length))];
      loadImg(defaultImg);
      // 创造雪花
      let Fragment = document.createDocumentFragment();
      for (let i = 0; i <= 500; i++) {Fragment.appendChild($("<div></div>").addClass('snow')[0])};
      $('body').append(Fragment);
      // $('.audioPlayer').hide();
    });
    // 注册点击切换图片
    $('.clickChangeImg').click(()=>{let Imgurl = `${localData.imgArr[Math.floor((Math.random()*localData.imgArr.length))]}`;loadImg(Imgurl);});
    // 注册点击播放音乐(暂时废弃)
    $('.clickMusic').click(()=>{$('.audioPlayer').toggle()});
    // 加载图片方法
    function loadImg(url) {
      $('.loading').show();$('.clickChangeImg').disabled = true;
      let imgbox = new Image();// 图片监测
      imgbox.src=url;
      imgbox.onload = ()=>{
        $('body').css('background',`url(${imgbox.src})`).css('background-size',`cover`);
        $('.loading').hide();$('.clickChangeImg').disabled = true;
      };
    }
  </script>
</head>

<body>
  <div id="index">
    <div class="tools">
      <button class="changeImg clickChangeImg">换个图片</button>
      <!-- <button class="changeImg clickMusic">我想听歌(暂时废弃)</button> -->
    </div>
    <div class="loading">
      <img src="./assets/imgs/loading/catcat.gif" alt="">
      <!-- <img src="./assets/imgs/loading/knife.gif" alt=""> -->
      <!-- <img src="./assets/imgs/loading/seafly.gif" alt=""> -->
    </div>
    <div class="navMenu">
      <a href="./myBlog/index.html">我的博客</a>
      <a href="./vueDemo/dist/index.html">我的vuedemo</a>
      <a>暂未开放</a>
      <a>暂未开放</a>
      <a>暂未开放</a>
      <a>暂未开放</a>
      <a>暂未开放</a>
    </div>
    <div class="audioPlayer">
      <!-- player -->
      <meting-js
      server="netease"
      type="playlist"
      id="125102396">
      </meting-js>
      <!-- 
        *id
          song id / playlist id / album id / search keyword
        *server	
          平台: netease, tencent, kugou, xiami, baidu
        *type
          song, playlist, album, search, artist
        auto
        fixed	默认false	
        mini	默认false	
        autoplay 默认false
        theme	默认2980b9
        loop 默认'all'
          'all', 'one', 'none'
        order	默认list
          'list', 'random'
        preload	预加载.默认auto
          'none', 'metadata', 'auto'
        volume	默认0.7
        mutex	true 互斥锁
        lrc-type	默认0	歌词类型
        list-folded	默认false 列表折叠
        list-max-height	默认340px
        storage-name	metingjs
      -->
      <!-- max -->
      <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="//music.163.com/outchain/player?type=0&id=125102396&auto=0&height=430"></iframe> -->
      <!-- mormal -->
      <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=125102396&auto=0&height=90"></iframe> -->
      <!-- mini -->
      <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=0&id=125102396&auto=0&height=32"></iframe> -->
    </div>
  </div>
  <!-- 鼠标效果 -->
  <script src="./assets/js/mouse.js"></script>
  <!-- 看板娘 -->
  <script src="https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js"></script>
  <script>
    var jsonModel = [
      // "https://unpkg.com/live2d-widget-model-miku@1.0.5/assets/miku.model.json", // 初音
      "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json", // 萌娘
      "https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json", // 小可爱（女）
      // "https://unpkg.com/live2d-widget-model-haruto@1.0.5/assets/haruto.model.json", // 小可爱（男）
      // "https://unpkg.com/live2d-widget-model-chitose@1.0.5/assets/chitose.model.json", // 小帅哥
    ];
    L2Dwidget.init({
      "model": {
        "jsonPath": jsonModel[Math.floor(Math.random() * (jsonModel.length - 1))],
        "scale": 1
      },
      "display": {
        "position": "right", // 位置left、right
        "width": 120, // 宽度
        "height": 150, // 高度
        "hOffset": 10, // 横向边距
        "vOffset": 5 // 众向边距
      },
      "mobile": {
        "show": false // 手机是否显示
      },
    });
  </script>
</body>
</html>